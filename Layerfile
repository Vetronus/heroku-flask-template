#This is an example webapp.io configuration for Django!
FROM vm/ubuntu:18.04

# To note: Layerfiles create entire VMs, *not* containers!

# Install python 3 & postgresql
RUN sudo apt update
RUN sudo apt install software-properties-common
RUN sudo add-apt-repository ppa:deadsnakes/ppa
RUN sudo apt update
RUN sudo apt install python3.8
RUN sudo apt install python3-pip

# Install django & postgresql python driver
RUN pip3


# Copy project files
COPY . .

# Install dependencies
RUN pip3 install -r requirements.txt


# Start the server
RUN BACKGROUND python3 app.py

# Expose the port
EXPOSE WEBSITE localhost:5000
